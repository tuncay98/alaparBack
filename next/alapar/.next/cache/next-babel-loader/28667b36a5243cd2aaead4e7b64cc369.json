{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { message, Tabs, Button, Upload, Modal, Select, Radio, Checkbox, InputNumber, Collapse, Input, Tooltip } from 'antd';\nimport { DndProvider, useDrag, useDrop, createDndContext } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport React from 'react';\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\";\nvar TabPane = Tabs.TabPane;\nvar Option = Select.Option;\nvar TextArea = Input.TextArea;\nimport { PlusOutlined } from '@ant-design/icons';\n\nfunction getBase64(file) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n    reader.readAsDataURL(file);\n\n    reader.onload = function () {\n      return resolve(reader.result);\n    };\n\n    reader.onerror = function (error) {\n      return reject(error);\n    };\n  });\n}\n\nfunction onChange(a, b, c) {\n  console.log(a, b, c);\n}\n\nvar Utilities = function Utilities(th) {\n  var _this = this;\n\n  _classCallCheck(this, Utilities);\n\n  _defineProperty(this, \"showError\", function (text) {\n    message.error(text);\n  });\n\n  _defineProperty(this, \"tabGenerator\", function (tabs) {\n    for (var _len = arguments.length, items = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      items[_key - 1] = arguments[_key];\n    }\n\n    return /*#__PURE__*/_jsx(Tabs, {\n      onTabClick: function onTabClick(key, event) {\n        return _this.th.setState({\n          activeKey: key\n        });\n      },\n      activeKey: _this.th.state.activeKey,\n      centered: true,\n      tabPosition: 'top',\n      animated: true,\n      children: items.map(function (w, k) {\n        return /*#__PURE__*/_jsxs(TabPane, {\n          forceRender: true,\n          tab: tabs[k],\n          children: [w, k != items.length - 1 ? /*#__PURE__*/_jsx(\"div\", {\n            className: 'tabBtn',\n            children: /*#__PURE__*/_jsx(\"a\", {\n              className: 'btn',\n              onClick: function onClick() {\n                return _this.th.setState({\n                  activeKey: \"\".concat(k + 2)\n                });\n              },\n              children: \"Sonraki\"\n            })\n          }) : null]\n        }, \"\".concat(k + 1));\n      })\n    });\n  });\n\n  _defineProperty(this, \"inputGenerator\", function (title, placeholder, callback, state) {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: 'subitem simpleInput',\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: 'item',\n        children: /*#__PURE__*/_jsx(\"label\", {\n          children: title\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: 'item',\n        validatename: state,\n        children: /*#__PURE__*/_jsx(Input, {\n          className: 'width',\n          name: state,\n          placeholder: placeholder,\n          onKeyUp: callback\n        })\n      })]\n    });\n  });\n\n  _defineProperty(this, \"numberGenerator\", function (title, placeholder, callback, name, visibility) {\n    if (!visibility) return null;\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: 'subitem numberInput',\n      validatename: name,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: 'item',\n        children: /*#__PURE__*/_jsx(\"label\", {\n          className: 'title',\n          children: title\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: 'item',\n        children: /*#__PURE__*/_jsx(InputNumber, {\n          name: name,\n          min: 1,\n          className: 'width inputnumber',\n          placeholder: placeholder,\n          formatter: function formatter(value) {\n            return \"\".concat(value).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n          },\n          parser: function parser(value) {\n            return \"\".concat(value).replace(/\\$\\s?|(,*)/g, '');\n          },\n          onKeyUp: callback\n        })\n      })]\n    });\n  });\n\n  _defineProperty(this, \"textAreaGeneretor\", function (title, placeholder, callback, name) {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: 'subitem textAreaInput',\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: 'item',\n        children: /*#__PURE__*/_jsx(\"label\", {\n          children: title\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: 'item',\n        validatename: name,\n        children: /*#__PURE__*/_jsx(TextArea, {\n          className: 'width inputarea',\n          name: name,\n          placeholder: placeholder,\n          autoSize: {\n            minRows: 5,\n            maxRows: 12\n          },\n          onKeyUp: callback,\n          maxLength: 5000\n        })\n      })]\n    });\n  });\n\n  _defineProperty(this, \"price\\u0130nputGenerator\", function (title, minName, maxName, min, step, Callback, visibility) {\n    if (!visibility) return null;\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: 'subitem priceInput',\n      validatename: minName,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: 'item',\n        validatename: maxName,\n        children: /*#__PURE__*/_jsx(\"label\", {\n          children: title\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: 'item',\n        children: [/*#__PURE__*/_jsx(InputNumber, {\n          placeholder: \"Min.\",\n          onBlur: Callback,\n          onInput: Callback,\n          min: min,\n          step: step,\n          name: minName,\n          formatter: function formatter(value) {\n            return \"\".concat(value).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n          },\n          parser: function parser(value) {\n            return value.replace(/\\$\\s?|(,*)/g, '');\n          }\n        }), \"-\", /*#__PURE__*/_jsx(InputNumber, {\n          placeholder: \"Max.\",\n          onBlur: Callback,\n          onInput: Callback,\n          min: min,\n          step: step,\n          name: maxName,\n          formatter: function formatter(value) {\n            return \"\".concat(value).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n          },\n          parser: function parser(value) {\n            return value.replace(/\\$\\s?|(,*)/g, '');\n          }\n        })]\n      })]\n    });\n  });\n\n  _defineProperty(this, \"selectGenerator\", function (title, options, name, selected, callback, sort, selectAll) {\n    if (!options || options.length < 1) return null;\n\n    if (sort) {\n      options.sort(function (a, b) {\n        var fa = a.name.toLowerCase();\n        var fb = b.name.toLowerCase();\n        if (fa < fb) return -1;\n        if (fa > fb) return 1;\n        return 0;\n      });\n    }\n\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: 'subitem selectInput',\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: 'item',\n        children: /*#__PURE__*/_jsx(\"label\", {\n          children: title\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: 'item',\n        validatename: name,\n        children: /*#__PURE__*/_jsxs(Select, {\n          virtual: false,\n          onSelect: callback,\n          placeholder: \"Se√ßin\",\n          value: selected,\n          name: name,\n          className: 'width',\n          children: [selectAll ? /*#__PURE__*/_jsx(Option, {\n            state: name,\n            value: 0,\n            children: \"Ham\\u0131s\\u0131\"\n          }) : null, options.map(function (w, i) {\n            return /*#__PURE__*/_jsx(Option, {\n              state: name,\n              value: w.id,\n              children: w.name\n            }, new Date().getTime() + i);\n          })]\n        })\n      })]\n    });\n  });\n\n  _defineProperty(this, \"checkBoxGenerator\", function (title, callback, name, visible) {\n    if (!visible) return null;\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: 'subitem checkInput',\n      validatename: name,\n      children: /*#__PURE__*/_jsx(Checkbox, {\n        state: name,\n        name: name,\n        onChange: callback,\n        children: title\n      })\n    });\n  });\n\n  _defineProperty(this, \"radioGenerator\", function (label, values, defaultValue, callback, name) {\n    if (!values) return null;\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: \"subitem radioInput\",\n      validatename: name,\n      children: [/*#__PURE__*/_jsx(\"label\", {\n        children: label\n      }), \" \", /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(Radio.Group, {\n        onChange: callback,\n        defaultValue: defaultValue,\n        buttonStyle: \"solid\",\n        children: values.map(function (w, i) {\n          return /*#__PURE__*/_jsx(Radio.Button, {\n            value: w.id,\n            children: w.name\n          }, new Date().getTime() + i);\n        })\n      })]\n    });\n  });\n\n  _defineProperty(this, \"DragableUploadListItem\", function (_ref) {\n    var originNode = _ref.originNode,\n        moveRow = _ref.moveRow,\n        file = _ref.file,\n        fileList = _ref.fileList;\n    var type = 'DragableUploadList';\n    var ref = React.useRef();\n    var index = fileList.indexOf(file);\n\n    var _useDrop = useDrop({\n      accept: type,\n      collect: function collect(monitor) {\n        var _ref2 = monitor.getItem() || {},\n            dragIndex = _ref2.index;\n\n        if (dragIndex === index) {\n          return {};\n        }\n\n        return {\n          isOver: monitor.isOver(),\n          dropClassName: dragIndex < index ? ' drop-over-downward' : ' drop-over-upward'\n        };\n      },\n      drop: function drop(item) {\n        moveRow(item.index, index);\n      }\n    }),\n        _useDrop2 = _slicedToArray(_useDrop, 2),\n        _useDrop2$ = _useDrop2[0],\n        isOver = _useDrop2$.isOver,\n        dropClassName = _useDrop2$.dropClassName,\n        drop = _useDrop2[1];\n\n    var _useDrag = useDrag({\n      item: {\n        type: type,\n        index: index\n      },\n      collect: function collect(monitor) {\n        return {\n          isDragging: monitor.isDragging()\n        };\n      }\n    }),\n        _useDrag2 = _slicedToArray(_useDrag, 2),\n        drag = _useDrag2[1];\n\n    drop(drag(ref));\n\n    var errorNode = /*#__PURE__*/_jsx(Tooltip, {\n      title: \"Upload Error\",\n      getPopupContainer: function getPopupContainer() {\n        return document.body;\n      },\n      children: originNode.props.children\n    });\n\n    return /*#__PURE__*/_jsx(\"div\", {\n      ref: ref,\n      className: \"ant-upload-draggable-list-item \".concat(isOver ? dropClassName : ''),\n      style: {\n        cursor: 'move'\n      },\n      children: file.status === 'error' ? errorNode : originNode\n    });\n  });\n\n  _defineProperty(this, \"moveRow\", function (dragIndex, hoverIndex) {\n    var fileList = _this.th.state.fileList;\n    var _ref3 = [fileList[hoverIndex], fileList[dragIndex]];\n    fileList[dragIndex] = _ref3[0];\n    fileList[hoverIndex] = _ref3[1];\n\n    _this.th.setState({\n      fileList: fileList\n    });\n\n    _this.handleChange({\n      fileList: fileList\n    });\n  });\n\n  _defineProperty(this, \"manager\", createDndContext(HTML5Backend));\n\n  _defineProperty(this, \"imageUploadGenerator\", function (fileList, previewVisible, previewTitle, previewImage) {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: \"subitem\",\n      children: [/*#__PURE__*/_jsx(DndProvider, {\n        manager: _this.manager.dragDropManager,\n        children: /*#__PURE__*/_jsx(Upload, {\n          action: \"http://192.168.1.107:5566/api/bina/image\",\n          name: \"images\",\n          multiple: true,\n          listType: \"picture-card\",\n          fileList: fileList,\n          onPreview: _this.handlePreview,\n          onChange: _this.handleChange,\n          itemRender: function itemRender(originNode, file, currFileList) {\n            return /*#__PURE__*/_jsx(_this.DragableUploadListItem, {\n              originNode: originNode,\n              file: file,\n              fileList: currFileList,\n              moveRow: _this.moveRow\n            });\n          },\n          children: fileList.length >= 25 ? null : /*#__PURE__*/_jsxs(\"div\", {\n            children: [/*#__PURE__*/_jsx(PlusOutlined, {}), /*#__PURE__*/_jsx(\"div\", {\n              style: {\n                marginTop: 8\n              },\n              children: \"\\u015E\\u0259kil\"\n            })]\n          })\n        })\n      }), /*#__PURE__*/_jsx(Modal, {\n        visible: previewVisible,\n        title: previewTitle,\n        footer: null,\n        onCancel: _this.handleCancel,\n        children: /*#__PURE__*/_jsx(\"img\", {\n          alt: \"example\",\n          style: {\n            width: '100%'\n          },\n          src: previewImage\n        })\n      })]\n    });\n  });\n\n  _defineProperty(this, \"getImageState\", {\n    previewVisible: false,\n    previewImage: '',\n    previewTitle: '',\n    fileList: []\n  });\n\n  _defineProperty(this, \"handleCancel\", function () {\n    return _this.th.setState({\n      previewVisible: false\n    });\n  });\n\n  _defineProperty(this, \"handlePreview\", /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(file) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(!file.url && !file.preview)) {\n                _context.next = 4;\n                break;\n              }\n\n              _context.next = 3;\n              return getBase64(file.originFileObj);\n\n            case 3:\n              file.preview = _context.sent;\n\n            case 4:\n              _this.th.setState({\n                previewImage: file.url || file.preview,\n                previewVisible: true,\n                previewTitle: file.name || file.url.substring(file.url.lastIndexOf('/') + 1)\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n\n  _defineProperty(this, \"handleChange\", /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref5) {\n      var fileList;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              fileList = _ref5.fileList;\n\n              _this.th.setState(_objectSpread(_objectSpread({}, _this.th.state), {}, {\n                fileList: _toConsumableArray(fileList),\n                selected: _objectSpread(_objectSpread({}, _this.th.state.selected), {}, {\n                  images: _toConsumableArray(fileList).filter(function (w) {\n                    return w.response;\n                  }).map(function (w) {\n                    return w.response.fileName;\n                  })\n                })\n              }));\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref6.apply(this, arguments);\n    };\n  }());\n\n  _defineProperty(this, \"googleMap\", function (lat, lan, callback, title, latName, lanName) {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      validatename: latName,\n      className: \"subitem\",\n      style: {\n        height: '100%',\n        width: '50%',\n        padding: \"20px\",\n        margin: \"0 auto\"\n      },\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: 'item',\n        children: /*#__PURE__*/_jsx(\"label\", {\n          children: title\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: 'item',\n        children: /*#__PURE__*/_jsx(Button, {\n          type: \"primary\",\n          onClick: function onClick() {\n            _this.th.setState({\n              mapVisible: true\n            });\n          },\n          children: \"A\\xE7\"\n        })\n      }), /*#__PURE__*/_jsx(Modal, {\n        title: \"X\\u0259rit\\u0259\",\n        visible: _this.th.state.mapVisible,\n        width: '50%',\n        footer: null,\n        onCancel: function onCancel() {\n          _this.th.setState({\n            mapVisible: false\n          });\n        },\n        children: /*#__PURE__*/_jsx(RegularMap, {\n          googleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyD6Vz_IKnktPC_TLl9DAmm_BpxokzQ4fIQ\",\n          loadingElement: /*#__PURE__*/_jsx(\"div\", {\n            style: loadingElementStyle\n          }),\n          containerElement: /*#__PURE__*/_jsx(\"div\", {\n            style: containerElementStyle\n          }),\n          mapElement: /*#__PURE__*/_jsx(\"div\", {\n            style: mapElementStyle\n          }),\n          info: {\n            lat: lat,\n            lan: lan,\n            callback: callback\n          }\n        })\n      })]\n    });\n  });\n\n  this.th = th;\n};\n\nexport default Utilities;\nvar defaultOptions = {\n  scrollwheel: false\n};\nvar RegularMap = withScriptjs(withGoogleMap(function (props) {\n  return /*#__PURE__*/_jsx(GoogleMap, {\n    defaultZoom: 12,\n    defaultCenter: {\n      lat: +props.info.lat,\n      lng: +props.info.lan\n    },\n    defaultOptions: defaultOptions,\n    onClick: props.info.callback,\n    options: {\n      mapTypeControl: true,\n      clickableIcons: false\n    },\n    children: /*#__PURE__*/_jsx(Marker, {\n      position: {\n        lat: +props.info.lat,\n        lng: +props.info.lan\n      }\n    })\n  });\n}));\nvar loadingElementStyle = {\n  height: '100%'\n};\nvar containerElementStyle = {\n  height: '500px'\n};\nvar mapElementStyle = {\n  height: '100%'\n};","map":null,"metadata":{},"sourceType":"module"}